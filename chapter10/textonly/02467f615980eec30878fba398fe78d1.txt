To many, finding out that Volkswagen had been cheating at emissions tests came as quite a shock. Others viewed the event with some indifference; a cynical take might be that every OEM would do the same thing given half the chance. Well, score one for cynicism.
These devices monitor various input from the vehicle and can discriminate between regular driving and conditions that would occur during emissions testing. If the vehicle believes it's being tested, engine performance can be altered with compliant maps that allow it to pass the test while actually emitting far more pollution during regular use.